!function(){"use strict";class e{constructor(e,t){let{items:r,renderer:i}=e;this._renderer=i,this._initialArray=r,this._container=document.querySelector(t)}renderItems(){this._initialArray.forEach(this._renderer)}addItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}class t{constructor(e){this._modal=document.querySelector(e),this._modalClose=this._modal.querySelector(".modal__close"),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){window.addEventListener("keydown",this._handleEscClose),this._modal.classList.add("modal_open")}close(){this._modal.classList.remove("modal_open"),window.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._modalClose.addEventListener("click",(()=>this.close())),this._modal.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_open")&&this.close()}))}}class r extends t{constructor(e){let{modalSelector:t,handleFormSubmit:r}=e;super(t),this._form=this._modal.querySelector(".modal__form"),this._handleFormSubmit=r,this._inputList=this._form.querySelectorAll(".modal__input"),this._submitButton=this._form.querySelector(".modal__submit"),this._submitButtonText=this._submitButton.textContent,this.setEventListeners()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}reset(){this._form.reset()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}close(){super.close()}}class i{constructor(e){let{data:t,selector:r,clickEventHandler:i,deleteEventHandler:s,likeEventHandler:n}=e;this._src=t.link,this._alt=t.name,this._textContent=t.name,this._likes=t.likes,this._ownerInd=t.ownerInd,this._cardLiked=t.cardLiked,this._selector=r,this._clickEventHandler=i,this._deleteEventHandler=s,this._likeEventHandler=n}_getTemplate(){return document.querySelector(this._selector).content.querySelector(".card").cloneNode(!0)}_fillImageCard(){this._cardImage.src=this._src,this._cardImage.alt=this._alt,this._cardLabel.textContent=this._textContent,this._cardLikes.textContent=this._likes,this._cardLiked?this.likeCard():this.unlikeCard(),this._ownerInd||this._deleteCardButton.classList.add("card__delete_disable")}_handleDeleteCard(e){this._deleteEventHandler()}setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._clickEventHandler()})),this._ownerInd&&this._deleteCardButton.addEventListener("click",(e=>{this._deleteEventHandler()})),this._cardLikeButton.addEventListener("click",(e=>{this._likeEventHandler()}))}likeCard(){this._cardLikeButton.classList.add("card__heart_like"),this._cardLiked=!0}unlikeCard(){this._cardLikeButton.classList.remove("card__heart_like"),this._cardLiked=!1}isCardLiked(){return this._cardLiked}removeCardElement(){this._element.remove()}updateLikes(e){this._cardLikes.textContent=e}getCardElement(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._cardLikeButton=this._element.querySelector(".card__heart"),this._deleteCardButton=this._element.querySelector(".card__delete"),this._cardLabel=this._element.querySelector(".card__label-text"),this._cardLikes=this._element.querySelector(".card__likes"),this._fillImageCard(),this.setEventListeners(),this._element}}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class n{constructor(e,t){s(this,"_showInputError",((e,t)=>{const r=this._formElement.querySelector(`#${e.id}-error`);r.textContent=t,r.classList.add(this._configDict.errorClass)})),s(this,"_hideInputError",(e=>{const t=this._formElement.querySelector(`#${e.id}-error`);t.classList.remove(this._configDict.errorClass),t.textContent=""})),s(this,"_hasInValidInput",(()=>this._inputList.some((e=>!e.validity.valid)))),s(this,"_toggleButtonState",(()=>{this._hasInValidInput()?this._disableSubmit():(this._buttonElement.classList.remove(this._configDict.inactiveButtonClass),this._buttonElement.removeAttribute("disabled",!0))})),s(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),s(this,"_disableSubmit",(()=>{this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._configDict.inactiveButtonClass)})),s(this,"enableValidation",(()=>{this._setEventListeners()})),s(this,"resetValidation",(()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._disableSubmit()})),this._configDict=e,this._formElement=t}_setEventListeners(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._inputList=Array.from(this._formElement.querySelectorAll(this._configDict.inputSelector)),this._buttonElement=this._formElement.querySelector(this._configDict.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._formElement.addEventListener("reset",(()=>{this._disableSubmit()}))}}const a={formSelector:".modal__form",inputSelector:".modal__input",inputErrorSelector:".modal__input-error",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_inactive",errorClass:"modal__input-error_display"},o=document.querySelector(".profile__pen"),l=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__avatar-edit"),c=document.querySelector("#profile-edit"),h=c.querySelector(".modal__form").name,_=c.querySelector("#profile-modal-name"),m=c.querySelector("#profile-modal-job"),u=document.querySelector(".profile__add-button"),f=Array.from(document.querySelectorAll(a.formSelector)),p={};f.forEach((e=>{const t=new n(a,e);p[e.name]=t,t.enableValidation()}));const v=new class{constructor(e){let{nameSelector:t,jobSelector:r,avatarSelector:i}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(r),this._avatarSelector=document.querySelector(i)}getUserInfo(){return{profileName:this._profileName.textContent,profileJob:this._profileJob.textContent}}setUserInfo(e,t){this._profileName.textContent=e,this._profileJob.textContent=t,this._avatarSelector.alt=`Profile image of ${e}`}setAvatar(e,t){this._avatarSelector.src=e,this._avatarSelector.alt=t}}({nameSelector:".profile__name",jobSelector:".profile__name-tag",avatarSelector:".profile__avatar"}),b=(document.querySelector("#profile-edit").querySelector(".modal__submit"),new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error updating user information: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}updateUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}addNewPicture(e){return fetch(`${this._baseUrl}/cards `,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateLikeCard(e,t){return t?fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse):fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",body:JSON.stringify(e),headers:this._headers}).then(this._checkResponse)}performPromiseAll(e){return Promise.all(e)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"51b8259d-f8d1-4b7c-b443-194620edca24","Content-Type":"application/json"}})),S=new r({modalSelector:"#profile-edit",handleFormSubmit:e=>{S.renderLoading(!0,"Saving..."),b.updateUserInfo({name:e["profile-modal-name"],about:e["profile-modal-job"]}).then((e=>{v.setUserInfo(e.name,e.about),S.close()})).catch((e=>{console.log(e)})).finally((()=>{S.renderLoading(!1)}))}});o.addEventListener("click",(function(){p[h].resetValidation(),function(){const e=v.getUserInfo();_.value=e.profileName,m.value=e.profileJob}(),S.open()}));const E=new class extends t{constructor(e){super(e),this._modalImage=this._modal.querySelector(".modal__image-expanded"),this._modalText=this._modal.querySelector(".modal__image-label"),super.setEventListeners()}open(e){let{src:t,alt:r}=e;this._modalImage.src=t,this._modalImage.alt=r,this._modalText.textContent=r,super.open()}}("#image-modal"),g=new r({modalSelector:"#delete-card-confirmation",handleFormSubmit:()=>{}});function k(e){const t=new i({data:e,selector:"#card",clickEventHandler:()=>{E.open({src:e.link,alt:e.name})},deleteEventHandler:()=>{g.open(),g.setSubmitAction((()=>{b.deleteCard(e.imageId).then((e=>{t.removeCardElement(),g.close()})).catch((e=>console.log(e)))}))},likeEventHandler:()=>{b.updateLikeCard(e.imageId,t.isCardLiked()).then((e=>{q(e.likes)?t.likeCard():t.unlikeCard(),t.updateLikes(e.likes.length)})).catch((e=>{console.log(e)}))}});return t}document.querySelector("#add-card").querySelector(".modal__submit");const L=new r({modalSelector:"#add-card",handleFormSubmit:e=>{L.renderLoading(!0,"Saving...");const t={name:e["add-card-title"],link:e["add-card-image-url"]};b.addNewPicture(t).then((e=>{const t=k({name:e.name,link:e.link,ownerInd:!0,cardLiked:!1,likes:0,imageId:e._id}).getCardElement();C.prependItem(t),L.reset(),L.close()})).catch((e=>{console.log(e),L.close()})).finally((()=>{L.renderLoading(!1)}))}});u.addEventListener("click",(function(){L.open()})),document.querySelector("#avatar-edit").querySelector(".modal__submit");const y=new r({modalSelector:"#avatar-edit",handleFormSubmit:e=>{y.renderLoading(!0,"Saving..."),b.updateAvatar({avatar:e["avatar-url"]}).then((t=>{!function(e){const t=l.src;v.setAvatar(e,`Profile of ${I.name}`),l.onerror=()=>{v.setAvatar(t,`Profile of ${I.name}`),console.log("Error: Not able to load new Avatar. Avatar unchanged!!")}}(e["avatar-url"]),y.close()})).catch((e=>{console.log(e)})).finally((()=>{y.renderLoading(!1)}))}});l.addEventListener("mouseover",(e=>{d.classList.add("profile__avatar-edit_show")})),d.addEventListener("mouseout",(e=>{d.classList.remove("profile__avatar-edit_show")})),d.addEventListener("click",(e=>{y.open()}));let C="";const I={};function q(e){for(let t=0;t<e.length;t++)if(e[t]._id==I.userId)return!0;return!1}!function(){const t=[];b.performPromiseAll([b.getInitialCards(),b.getUserInfo()]).then((r=>{let[i,s]=r;I.name=s.name,I.about=s.about,I.avatarUrl=s.avatar,I.userId=s._id,v.setUserInfo(I.name,I.about),v.setAvatar(I.avatarUrl,`Profile of ${I.name}`),l.onload=()=>{i.forEach((e=>{const r=I.userId===e.owner._id,i=q(e.likes);t.push({name:e.name,link:e.link,likes:e.likes.length,ownerInd:r,imageId:e._id,cardLiked:i})})),function(t){C=new e({items:t,renderer:e=>{const t=k(e).getCardElement();C.addItem(t)}},".content__list"),C.renderItems()}(t)},l.onerror=()=>console.log("Error: Not able to load Avatar!!")})).catch((e=>{console.log(`Error while loading the initial page: ${e.status}`)}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhLEVBRy9CNUYsRUFBY3dGLFFBQVUsSUFDdEIxQixRQUFRQyxJQUFJLG1DQUFtQyxJQUlsREgsT0FBTzNCLElBQ042QixRQUFRQyxJQUFLLHlDQUF3QzlCLEVBQUlLLFNBQVMsR0FFeEUsQ0FFQTZELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZWN0aW9uIH07XG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5fbW9kYWxDbG9zZSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICAgIC8vIEkgaGF2ZSB0byB1c2UgdGhpcyBzdG10IHRvIGhhbmRsZSB0aGUgZXNjIGtleVxuICAgIC8vIGVsc2UgdGhlIHdob2xlIHdpbmRvdyBpcyBnZXR0aW5nIGNsb3NlZC5cbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5cIik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlblwiKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcblxuICAgIHRoaXMuX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlblwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXAgfTtcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBtb2RhbFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKG5ld1N1Ym1pdEhhbmRsZSkge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBuZXdTdWJtaXRIYW5kbGU7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICAvLyBhZGQgMiBwYXJhbXM6IGlzTG9hZGluZyBhbmQgbG9hZGluZ1RleHQgd2l0aCBhIGRlZmF1bHQgdGV4dFxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH07XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgc2VsZWN0b3IsXG4gICAgY2xpY2tFdmVudEhhbmRsZXIsXG4gICAgZGVsZXRlRXZlbnRIYW5kbGVyLFxuICAgIGxpa2VFdmVudEhhbmRsZXIsXG4gIH0pIHtcbiAgICB0aGlzLl9zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fYWx0ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3RleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9vd25lckluZCA9IGRhdGEub3duZXJJbmQ7XG4gICAgdGhpcy5fY2FyZExpa2VkID0gZGF0YS5jYXJkTGlrZWQ7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICB0aGlzLl9jbGlja0V2ZW50SGFuZGxlciA9IGNsaWNrRXZlbnRIYW5kbGVyO1xuICAgIHRoaXMuX2RlbGV0ZUV2ZW50SGFuZGxlciA9IGRlbGV0ZUV2ZW50SGFuZGxlcjtcbiAgICB0aGlzLl9saWtlRXZlbnRIYW5kbGVyID0gbGlrZUV2ZW50SGFuZGxlcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfZmlsbEltYWdlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fc3JjO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9hbHQ7XG4gICAgdGhpcy5fY2FyZExhYmVsLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fY2FyZExpa2VzLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXM7XG4gICAgaWYgKHRoaXMuX2NhcmRMaWtlZCkge1xuICAgICAgdGhpcy5saWtlQ2FyZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVubGlrZUNhcmQoKTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBkZWxldGUgYnV0dG9uLCBpZiB0aGUgdXNlciBpcyBub3QgdGhlIG93bmVyIG9mIHRoZVxuICAgIC8vIHBob3RvXG4gICAgaWYgKCF0aGlzLl9vd25lckluZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQ2FyZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZGVsZXRlX2Rpc2FibGVcIik7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoZXZlbnQpIHtcbiAgICB0aGlzLl9kZWxldGVFdmVudEhhbmRsZXIoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fY2xpY2tFdmVudEhhbmRsZXIoKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9vd25lckluZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVFdmVudEhhbmRsZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9saWtlRXZlbnRIYW5kbGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9faGVhcnRfbGlrZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZWQgPSB0cnVlO1xuICB9XG5cbiAgdW5saWtlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9faGVhcnRfbGlrZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlzQ2FyZExpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkTGlrZWQ7XG4gIH1cblxuICByZW1vdmVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9jYXJkTGlrZXMudGV4dENvbnRlbnQgPSBsaWtlcztcbiAgfVxuXG4gIGdldENhcmRFbGVtZW50KCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19oZWFydFwiKTtcbiAgICB0aGlzLl9kZWxldGVDYXJkQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKTtcblxuICAgIHRoaXMuX2NhcmRMYWJlbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sYWJlbC10ZXh0XCIpO1xuICAgIHRoaXMuX2NhcmRMaWtlcyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlc1wiKTtcbiAgICB0aGlzLl9maWxsSW1hZ2VDYXJkKCk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9O1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZ0RpY3QsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fY29uZmlnRGljdCA9IGNvbmZpZ0RpY3Q7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIC8vIEluIHRoZSBiZWxvdyBmdW5jdGlvbnM6XG4gIC8vIGZvcm1FbGVtZW50IHJlcHJlc2VudHMgYSBmb3JtXG4gIC8vIGlucHV0RWxlbWVudCByZXByZXNlbnRzIGEgc3BlY2lmaWMgaW5wdXQgZWxlbWVudCBpbiB0aGUgZm9ybVxuICAvLyBlcnJvck1lc3NhZ2UgcmVwcmVzZW50cyB0aGUgZXJyb3IgbWVzc2FnZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgZmllbGRcblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnRGljdFtcImVycm9yQ2xhc3NcIl0pO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWdEaWN0W1wiZXJyb3JDbGFzc1wiXSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcblxuICBfaGFzSW5WYWxpZElucHV0ID0gKCkgPT4ge1xuICAgIC8vaW5wdXRMaXN0IGlzIGEgbGlzdCBvZiBpbnB1dCBmaWVsZHMgYmVsb25naW5nIHRvIGEgZm9ybVxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0luVmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgdGhpcy5fY29uZmlnRGljdFtcImluYWN0aXZlQnV0dG9uQ2xhc3NcIl1cbiAgICAgICk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIC8vIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSBpcyBhdXRvLWNyZWF0ZWQgYnkgdGhlIGJyb3dzZXIgYmFzZWQgb24gdGhlIHZhbGlkYXRpb24gZXJyb3JcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZ0RpY3RbXCJpbnB1dFNlbGVjdG9yXCJdKVxuICAgICk7XG5cbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZ0RpY3RbXCJzdWJtaXRCdXR0b25TZWxlY3RvclwiXVxuICAgICk7XG5cbiAgICAvLyBUaGlzIHN0YXRlbWVudCB3aWxsIGhlbHAgdG8gc2V0IHRoZSBidXR0b24gc3RhdGUgYXBwcm9wcmlhdGVseSwgd2hlbiB0aGVcbiAgICAvLyBwYWdlIGxvYWRzIGluaXRpYWxseVxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICAvLyBZb3UgbXVzdCB1c2UgYXJyb3cgZnVuY3Rpb24uIElmIG5vdCB1c2VkLCB3ZSB3aWxsIGdldCB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoKSBub3QgZm91bmQgZXJyb3JcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFdoZW5ldmVyIGEgZm9ybSBpcyByZXNldCwgdGhlIGJ1dHRvbiB3aWxsIGJlIGRpc2FibGVkLCB1c2luZyB0aGUgZm9sbG93aW5nIHJlc2V0IGV2ZW50IGhhbmRsZXIuXG4gICAgLy8gQWx0ZXJuYXRpdmVseSB3ZSBjYW4gZGlzYWJsZSB0aGUgYnV0dG9uIHdoZW4gdGhlIG1vZGFsIGlzIG9wZW5lZCBmb3IgZGlzcGxheS5cbiAgICAvLyBTZWUgdGhlIGZ1bmN0aW9uIChzZWUgdGhlIGZ1bmN0aW9uOiBoYW5kbGVDcmVhdGVDYXJkU3VibWl0KGV2ZW50KSBpbiBpbmRleC5qcylcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnRGljdFtcImluYWN0aXZlQnV0dG9uQ2xhc3NcIl0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX2Rpc2FibGVTdWJtaXQoKTtcbiAgfTtcbn1cblxuZXhwb3J0IHsgRm9ybVZhbGlkYXRvciB9O1xuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZ0RpY3QgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIGlucHV0RXJyb3JTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0LWVycm9yXCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0XCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdF9pbmFjdGl2ZVwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9kaXNwbGF5XCIsXG59O1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZVBlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGVuXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItZWRpdFwiKTtcblxuY29uc3QgcHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXRcIik7XG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybU5hbWUgPSBwcm9maWxlRm9ybUVsZW1lbnRbXCJuYW1lXCJdO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbE5hbWVJbnB1dCA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW1vZGFsLW5hbWVcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTW9kYWxKb2JJbnB1dCA9XG4gIHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbW9kYWwtam9iXCIpO1xuXG4vLyBHbG9iYWwgdmFyaWFibGVzIGZvciBjYXJkIHRlbXBsYXRlXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlSUQgPSBcIiNjYXJkXCI7XG5cbi8vIEdsb2JhbCB2YXJpYWJsZXMgdG8gc3VwcG9ydCBuZXcgY2FyZCBhZGRpdGlvbiBsb2dpY1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcblxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5cbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbmltcG9ydCB7XG4gIGNvbmZpZ0RpY3QsXG4gIHByb2ZpbGVQZW4sXG4gIHByb2ZpbGVBdmF0YXIsXG4gIGF2YXRhckVkaXQsXG4gIHByb2ZpbGVGb3JtTmFtZSxcbiAgcHJvZmlsZU1vZGFsTmFtZUlucHV0LFxuICBwcm9maWxlTW9kYWxKb2JJbnB1dCxcbiAgY2FyZFRlbXBsYXRlSUQsXG4gIGFkZENhcmRCdXR0b24sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gR2xvYmFsIHZhcmlhYmxlIHRvIHNlbGVjdCBhbGwgZm9ybXNcbi8vIEFsc28gY29udmVydCB0aGUgcHNldWRvIGFycmF5IHRvIG5vcm1hbCBhcnJheSB1c2luZyBBcnJheS5mcm9tKCkuXG4vLyBXaXRob3V0IHVzaW5nIEFycmF5LmZyb20oKSwgd2UgY2Fubm90IHBhcnNlIHRocm91Z2ggdGhlIGZvcm1zIHRvIGVuYWJsZVxuLy8gaW5wdXQgZmllbGQgdmFsaWRhdGlvblxuY29uc3QgYWxsRm9ybXMgPSBBcnJheS5mcm9tKFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZ0RpY3RbXCJmb3JtU2VsZWN0b3JcIl0pXG4pO1xuXG4vLyBBZGQgZm9ybXMgaW5wdXQgdmFsaWRhdG9yc1xuLy8gZm9ybVZhbGlkYXRvcnMgb2JqZWN0cyB3aWxsIGNvbnRhaW4gdGhlIGZvcm0gbmFtZSBhcyB0aGUga2V5XG4vLyBhbmQgRm9ybVZhbGlkYXRvciBvYmplY3QgYXMgaXRzIHZhbHVlLlxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuYWxsRm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnRGljdCwgZm9ybSk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1bXCJuYW1lXCJdXSA9IGZvcm1WYWxpZGF0b3I7XG4gIGZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xufSk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lLXRhZ1wiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXG59KTtcblxuY29uc3QgcHJvZmlsZUVkaXRTdWJtaXRCdXR0b24gPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXRcIilcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdFwiKTtcblxuLy8gY3JlYXRlIGFuIEFwaSBvYmplY3QuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjUxYjgyNTlkLWY4ZDEtNGI3Yy1iNDQzLTE5NDYyMGVkY2EyNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIENyZWF0ZSBwcm9maWxlRm9ybSBvYmplY3RcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNwcm9maWxlLWVkaXRcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0cykgPT4ge1xuICAgIHByb2ZpbGVGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG5cbiAgICBhcGlcbiAgICAgIC51cGRhdGVVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IGlucHV0c1tcInByb2ZpbGUtbW9kYWwtbmFtZVwiXSxcbiAgICAgICAgYWJvdXQ6IGlucHV0c1tcInByb2ZpbGUtbW9kYWwtam9iXCJdLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzdWx0Lm5hbWUsIHJlc3VsdC5hYm91dCk7XG4gICAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJNZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVyck1lc3NhZ2UpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcHJvZmlsZUZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBIYW5kbGUgcHJvZmlsZSBwZW4gYnV0dG9uIGNsaWNrICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZmlsbCB0aGUgcHJvZmlsZSBmb3JtIG9uY2UgdmlzaWJsZVxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xuICBjb25zdCBwcm9maWxlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU1vZGFsTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZS5wcm9maWxlTmFtZTtcbiAgcHJvZmlsZU1vZGFsSm9iSW5wdXQudmFsdWUgPSBwcm9maWxlLnByb2ZpbGVKb2I7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlKCkge1xuICBmb3JtVmFsaWRhdG9yc1twcm9maWxlRm9ybU5hbWVdLnJlc2V0VmFsaWRhdGlvbigpO1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xufVxuXG5wcm9maWxlUGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0UHJvZmlsZSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEhhbmRsZSBjYXJkcyBhZGRpdGlvbiBsb2dpYyAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgbW9kYWxDYXJkID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xuXG4vLyBUaGUgaGFuZGxlRm9ybVN1Ym1pdCBpcyBpbml0aWFsaXplZCB3aXRoIGR1bW15XG4vLyBmdW5jdGlvbi4gVGhpcyB3aWxsIGJlIHNldCBpbiB0aGUgZGVsZXRlRXZlbnRIYW5kbGVyIGluIHRoZSBjcmVhdGVDYXJkKCkgZnVuY3Rpb25cbmNvbnN0IGRlbGV0ZUNhcmRDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IFwiI2RlbGV0ZS1jYXJkLWNvbmZpcm1hdGlvblwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7fSxcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcbiAgICBkYXRhOiBpdGVtLFxuICAgIHNlbGVjdG9yOiBjYXJkVGVtcGxhdGVJRCxcbiAgICBjbGlja0V2ZW50SGFuZGxlcjogKCkgPT4ge1xuICAgICAgbW9kYWxDYXJkLm9wZW4oe1xuICAgICAgICBzcmM6IGl0ZW0ubGluayxcbiAgICAgICAgYWx0OiBpdGVtLm5hbWUsXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZGVsZXRlRXZlbnRIYW5kbGVyOiAoKSA9PiB7XG4gICAgICBkZWxldGVDYXJkQ29uZmlybWF0aW9uLm9wZW4oKTtcbiAgICAgIGRlbGV0ZUNhcmRDb25maXJtYXRpb24uc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUNhcmQoaXRlbS5pbWFnZUlkKVxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGRlbGV0ZUNhcmRDb25maXJtYXRpb24uY2xvc2UoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbGlrZUV2ZW50SGFuZGxlcjogKCkgPT4ge1xuICAgICAgYXBpXG4gICAgICAgIC51cGRhdGVMaWtlQ2FyZChpdGVtLmltYWdlSWQsIGNhcmQuaXNDYXJkTGlrZWQoKSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja0NhcmRMaWtlKHJlc3VsdC5saWtlcykpIHtcbiAgICAgICAgICAgIGNhcmQubGlrZUNhcmQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FyZC51bmxpa2VDYXJkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhcmQudXBkYXRlTGlrZXMocmVzdWx0Lmxpa2VzLmxlbmd0aCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyTWVzc2FnZSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVyck1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGNhcmQ7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIE5ldyBjYXJkcyBhZGRpdGlvbiBsb2dpYyAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmNvbnN0IGFkZENhcmRTdWJtaXRCdXR0b24gPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZFwiKVxuICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xuXG4vLyBIYW5kbGUgdGhlIEFERCBidXR0b24gKHRvIGFkZCBjYXJkcylcbi8vIG1vZGFsU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXRcbmNvbnN0IGFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNhZGQtY2FyZFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRzKSA9PiB7XG4gICAgYWRkQ2FyZEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcblxuICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICBuYW1lOiBpbnB1dHNbXCJhZGQtY2FyZC10aXRsZVwiXSxcbiAgICAgIGxpbms6IGlucHV0c1tcImFkZC1jYXJkLWltYWdlLXVybFwiXSxcbiAgICB9O1xuXG4gICAgYXBpXG4gICAgICAuYWRkTmV3UGljdHVyZShpdGVtKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICAgICAgb3duZXJJbmQ6IHRydWUsXG4gICAgICAgICAgY2FyZExpa2VkOiBmYWxzZSxcbiAgICAgICAgICBsaWtlczogMCxcbiAgICAgICAgICBpbWFnZUlkOiBkYXRhLl9pZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRDYXJkRWxlbWVudCgpO1xuICAgICAgICBjYXJkc0xpc3QucHJlcGVuZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgICBhZGRDYXJkRm9ybS5yZXNldCgpO1xuICAgICAgICBhZGRDYXJkRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyTWVzc2FnZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJNZXNzYWdlKTtcbiAgICAgICAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGFkZENhcmRGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAvL2FkZENhcmRGb3JtLnJlc2V0KCk7XG4gIH0sXG59KTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZEFkZEJ1dHRvbkNsaWNrKCkge1xuICBhZGRDYXJkRm9ybS5vcGVuKCk7XG59XG5cbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNhcmRBZGRCdXR0b25DbGljayk7XG5cbmZ1bmN0aW9uIGFkZEluaXRpYWxDYXJkcyhpbml0aWFsQ2FyZHMpIHtcbiAgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdldENhcmRFbGVtZW50KCk7XG4gICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIi5jb250ZW50X19saXN0XCJcbiAgKTtcblxuICBjYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUHJvZmlsZUF2YXRhcihuZXdBdmF0YXIpIHtcbiAgY29uc3Qgb2xkQXZhdGFyID0gcHJvZmlsZUF2YXRhci5zcmM7XG4gIHVzZXJJbmZvLnNldEF2YXRhcihuZXdBdmF0YXIsIGBQcm9maWxlIG9mICR7cHJvZmlsZUluZm8ubmFtZX1gKTtcbiAgcHJvZmlsZUF2YXRhci5vbmVycm9yID0gKCkgPT4ge1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcihvbGRBdmF0YXIsIGBQcm9maWxlIG9mICR7cHJvZmlsZUluZm8ubmFtZX1gKTtcbiAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBOb3QgYWJsZSB0byBsb2FkIG5ldyBBdmF0YXIuIEF2YXRhciB1bmNoYW5nZWQhIVwiKTtcbiAgfTtcbn1cblxuY29uc3QgYXZhdGFyRWRpdFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0XCIpXG4gIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXRcIik7XG5cbmNvbnN0IHVwZGF0ZUF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IFwiI2F2YXRhci1lZGl0XCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dHMpID0+IHtcbiAgICB1cGRhdGVBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG5cbiAgICBhcGlcbiAgICAgIC51cGRhdGVBdmF0YXIoe1xuICAgICAgICBhdmF0YXI6IGlucHV0c1tcImF2YXRhci11cmxcIl0sXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXBkYXRlUHJvZmlsZUF2YXRhcihpbnB1dHNbXCJhdmF0YXItdXJsXCJdKTtcbiAgICAgICAgdXBkYXRlQXZhdGFyRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyTWVzc2FnZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJNZXNzYWdlKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHVwZGF0ZUF2YXRhckZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGV2ZW50KSA9PiB7XG4gIGF2YXRhckVkaXQuY2xhc3NMaXN0LmFkZChcInByb2ZpbGVfX2F2YXRhci1lZGl0X3Nob3dcIik7XG59KTtcblxuYXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKGV2ZW50KSA9PiB7XG4gIGF2YXRhckVkaXQuY2xhc3NMaXN0LnJlbW92ZShcInByb2ZpbGVfX2F2YXRhci1lZGl0X3Nob3dcIik7XG59KTtcblxuYXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gIHVwZGF0ZUF2YXRhckZvcm0ub3BlbigpO1xufSk7XG5cbi8vIFRoaXMgdmFyaWFibGUgd2lsbCBiZSB1cGRhdGVkIGluIGFkZEluaXRpYWxDYXJkcygpIGZ1bmN0aW9uLFxuLy8gd2hpY2ggd2lsbCBiZSBjYWxsZWQgaW4gdGhlIHByb21pc2UsIGFmdGVyIHRoZSBjYXJkcyBoYXZlIGJlZW4gcmVhZC5cbi8vIGNhcmRzTGlzdCBpcyByZXF1aXJlZCBsYXRlciwgd2hlbiB3ZSBhZGQgbmV3IGNhcmRzIHRvIHRoZSBwYWdlLlxuLy8gVGhpcyB2YXJpYWJsZSBjYW5ub3QgYmUgYSBjb25zdCwgYXMgSSBjYW5ub3QgYXNzaWduIGEgbmV3IHZhbHVlXG5cbmxldCBjYXJkc0xpc3QgPSBcIlwiO1xuXG4vL3Byb2ZpbGVJbmZvIGNvbnRhaW5zIHRoZSB1c2VyIGRldGFpbHMgKGxpa2UgdGhlaXIgaWQsIG5hbWUgYW5kIGFib3V0IGluZm8pXG4vL0l0IHdpbGwgYmUgZmlsbGVkIHZpYSBhbiBBUEkgY2FsbFxuY29uc3QgcHJvZmlsZUluZm8gPSB7fTtcblxuLy9DaGVja3MgaWYgdGhlIHVzZXIgSUQgaXMgb25lIG9mIHRoZSBJRHMgd2hvIGxpa2VkIHRoZSBwaG90b1xuZnVuY3Rpb24gY2hlY2tDYXJkTGlrZShsaWtlcykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpa2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGxpa2VzW2ldLl9pZCA9PSBwcm9maWxlSW5mby51c2VySWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxvYWRJbml0aWFsUGFnZSgpIHtcbiAgY29uc3QgaW5pdGlhbENhcmRzID0gW107XG5cbiAgYXBpXG4gICAgLnBlcmZvcm1Qcm9taXNlQWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcbiAgICAudGhlbigoW2NhcmRzRGF0YSwgdXNlckRhdGFdKSA9PiB7XG4gICAgICAvL3Byb2ZpbGVJbmZvIGlzIGEgZ2xvYmFsIHZhcmlhYmxlXG4gICAgICBwcm9maWxlSW5mby5uYW1lID0gdXNlckRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVJbmZvLmFib3V0ID0gdXNlckRhdGEuYWJvdXQ7XG4gICAgICBwcm9maWxlSW5mby5hdmF0YXJVcmwgPSB1c2VyRGF0YS5hdmF0YXI7XG4gICAgICBwcm9maWxlSW5mby51c2VySWQgPSB1c2VyRGF0YS5faWQ7XG5cbiAgICAgIC8vU2V0IHVzZXIgaW5mbyBhbmQgYXZhdGFyIG9uIHRoZSBwYWdlXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhwcm9maWxlSW5mby5uYW1lLCBwcm9maWxlSW5mby5hYm91dCk7XG4gICAgICB1c2VySW5mby5zZXRBdmF0YXIoXG4gICAgICAgIHByb2ZpbGVJbmZvLmF2YXRhclVybCxcbiAgICAgICAgYFByb2ZpbGUgb2YgJHtwcm9maWxlSW5mby5uYW1lfWBcbiAgICAgICk7XG5cbiAgICAgIHByb2ZpbGVBdmF0YXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAvL293bmVySW5kIHdpbGwgaGVscCB1cyB0byBkZXRlcm1pbmUgaWYgdGhlIHBob3RvIGlzIG93bmVkIGJ5IHRoZSB1c2VyXG4gICAgICAgIC8vIElmIG93bmVkIGJ5IHRoZSB1c2VyLCB3ZSB3aWxsIGFkZCB0aGUgZGVsZXRlIGJpbiB0byB0aGUgcGhvdG8sXG4gICAgICAgIC8vIGVsc2Ugd2Ugd2lsbCBub3QgYWRkIGRlbGV0ZSBiaW4gdG8gdGhlIHBob3RvXG4gICAgICAgIGNhcmRzRGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgY29uc3Qgb3duZXJJbmQgPSBwcm9maWxlSW5mby51c2VySWQgPT09IGVsZW1lbnQub3duZXIuX2lkO1xuXG4gICAgICAgICAgY29uc3QgY2FyZExpa2VkID0gY2hlY2tDYXJkTGlrZShlbGVtZW50Lmxpa2VzKTtcblxuICAgICAgICAgIGluaXRpYWxDYXJkcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgIGxpbms6IGVsZW1lbnQubGluayxcbiAgICAgICAgICAgIGxpa2VzOiBlbGVtZW50Lmxpa2VzLmxlbmd0aCxcbiAgICAgICAgICAgIG93bmVySW5kOiBvd25lckluZCxcbiAgICAgICAgICAgIGltYWdlSWQ6IGVsZW1lbnQuX2lkLFxuICAgICAgICAgICAgY2FyZExpa2VkOiBjYXJkTGlrZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZEluaXRpYWxDYXJkcyhpbml0aWFsQ2FyZHMpO1xuICAgICAgfTtcblxuICAgICAgcHJvZmlsZUF2YXRhci5vbmVycm9yID0gKCkgPT5cbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogTm90IGFibGUgdG8gbG9hZCBBdmF0YXIhIVwiKTtcblxuICAgICAgLy8gYWRkUHJvZmlsZUluZm8ocHJvZmlsZUluZm8sIGluaXRpYWxDYXJkcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yIHdoaWxlIGxvYWRpbmcgdGhlIGluaXRpYWwgcGFnZTogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xufVxuXG5sb2FkSW5pdGlhbFBhZ2UoKTtcbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gICAgLy8gdGhpcy5fdXNlcklkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySWQpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2ZpbGVOYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIHByb2ZpbGVKb2I6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlTmFtZTtcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gcHJvZmlsZUpvYjtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5hbHQgPSBgUHJvZmlsZSBpbWFnZSBvZiAke3Byb2ZpbGVOYW1lfWA7XG4gIH1cblxuICBzZXRBdmF0YXIoYXZhdGFyVXJsLCBhdmF0YXJBbHQpIHtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBhdmF0YXJVcmw7XG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3IuYWx0ID0gYXZhdGFyQWx0O1xuICB9XG59XG5cbmV4cG9ydCB7IFVzZXJJbmZvIH07XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgdXBkYXRpbmcgdXNlciBpbmZvcm1hdGlvbjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3UGljdHVyZShkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzIGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUxpa2VDYXJkKGNhcmRJZCwgY2FyZExpa2VkKSB7XG4gICAgaWYgKGNhcmRMaWtlZCkge1xuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgcGVyZm9ybVByb21pc2VBbGwocHJvbWlzZUxpc3QpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUxpc3QpO1xuICB9XG59XG5cbmV4cG9ydCB7IEFwaSB9O1xuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xuICAgIHN1cGVyKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsSW1hZ2UgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1leHBhbmRlZFwiKTtcbiAgICB0aGlzLl9tb2RhbFRleHQgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1sYWJlbFwiKTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgb3Blbih7IHNyYywgYWx0IH0pIHtcbiAgICB0aGlzLl9tb2RhbEltYWdlLnNyYyA9IHNyYztcbiAgICB0aGlzLl9tb2RhbEltYWdlLmFsdCA9IGFsdDtcbiAgICB0aGlzLl9tb2RhbFRleHQudGV4dENvbnRlbnQgPSBhbHQ7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07XG4iXSwibmFtZXMiOlsiU2VjdGlvbiIsImNvbnN0cnVjdG9yIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwidGhpcyIsIl9yZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJQb3B1cCIsIm1vZGFsU2VsZWN0b3IiLCJfbW9kYWwiLCJfbW9kYWxDbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJldnQiLCJrZXkiLCJjbG9zZSIsIm9wZW4iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25UZXh0IiwidGV4dENvbnRlbnQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJzZXRTdWJtaXRBY3Rpb24iLCJuZXdTdWJtaXRIYW5kbGUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiQ2FyZCIsImRhdGEiLCJzZWxlY3RvciIsImNsaWNrRXZlbnRIYW5kbGVyIiwiZGVsZXRlRXZlbnRIYW5kbGVyIiwibGlrZUV2ZW50SGFuZGxlciIsIl9zcmMiLCJsaW5rIiwiX2FsdCIsIl90ZXh0Q29udGVudCIsIl9saWtlcyIsImxpa2VzIiwiX293bmVySW5kIiwib3duZXJJbmQiLCJfY2FyZExpa2VkIiwiY2FyZExpa2VkIiwiX3NlbGVjdG9yIiwiX2NsaWNrRXZlbnRIYW5kbGVyIiwiX2RlbGV0ZUV2ZW50SGFuZGxlciIsIl9saWtlRXZlbnRIYW5kbGVyIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9maWxsSW1hZ2VDYXJkIiwiX2NhcmRJbWFnZSIsInNyYyIsImFsdCIsIl9jYXJkTGFiZWwiLCJfY2FyZExpa2VzIiwibGlrZUNhcmQiLCJ1bmxpa2VDYXJkIiwiX2RlbGV0ZUNhcmRCdXR0b24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImV2ZW50IiwiX2NhcmRMaWtlQnV0dG9uIiwiaXNDYXJkTGlrZWQiLCJyZW1vdmVDYXJkRWxlbWVudCIsIl9lbGVtZW50IiwidXBkYXRlTGlrZXMiLCJnZXRDYXJkRWxlbWVudCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWdEaWN0IiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsIl9jb25maWdEaWN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW5WYWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXQiLCJfYnV0dG9uRWxlbWVudCIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic2V0QXR0cmlidXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJpbnB1dEVycm9yU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZVBlbiIsInByb2ZpbGVBdmF0YXIiLCJhdmF0YXJFZGl0IiwicHJvZmlsZU1vZGFsIiwicHJvZmlsZUZvcm1OYW1lIiwicHJvZmlsZU1vZGFsTmFtZUlucHV0IiwicHJvZmlsZU1vZGFsSm9iSW5wdXQiLCJhZGRDYXJkQnV0dG9uIiwiYWxsRm9ybXMiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm0iLCJmb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX2F2YXRhclNlbGVjdG9yIiwiZ2V0VXNlckluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsImF2YXRhclVybCIsImF2YXRhckFsdCIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJ1cGRhdGVVc2VySW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3UGljdHVyZSIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJ1cGRhdGVMaWtlQ2FyZCIsInVwZGF0ZUF2YXRhciIsInBlcmZvcm1Qcm9taXNlQWxsIiwicHJvbWlzZUxpc3QiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwicHJvZmlsZUZvcm0iLCJpbnB1dHMiLCJhYm91dCIsInJlc3VsdCIsImNhdGNoIiwiZXJyTWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwicmVzZXRWYWxpZGF0aW9uIiwicHJvZmlsZSIsImZpbGxQcm9maWxlRm9ybSIsIm1vZGFsQ2FyZCIsIl9tb2RhbEltYWdlIiwiX21vZGFsVGV4dCIsImRlbGV0ZUNhcmRDb25maXJtYXRpb24iLCJjcmVhdGVDYXJkIiwiaXRlbSIsImNhcmQiLCJpbWFnZUlkIiwiZXJyIiwiY2hlY2tDYXJkTGlrZSIsImxlbmd0aCIsImFkZENhcmRGb3JtIiwiY2FyZEVsZW1lbnQiLCJfaWQiLCJjYXJkc0xpc3QiLCJ1cGRhdGVBdmF0YXJGb3JtIiwiYXZhdGFyIiwibmV3QXZhdGFyIiwib2xkQXZhdGFyIiwicHJvZmlsZUluZm8iLCJvbmVycm9yIiwidXBkYXRlUHJvZmlsZUF2YXRhciIsImkiLCJ1c2VySWQiLCJpbml0aWFsQ2FyZHMiLCJjYXJkc0RhdGEiLCJ1c2VyRGF0YSIsIm9ubG9hZCIsIm93bmVyIiwicHVzaCIsImFkZEluaXRpYWxDYXJkcyIsImxvYWRJbml0aWFsUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=